Добрый день!
Задача:
 Билет в кассе стоит 500р. Касса изначально пуста. К ней подошли n человек с купюрами номиналом 500р. и m человек с купюрами 1000 р.
Найти количество способов расставить людей в очередь так, чтобы все смогли купить билет.
Решение:
Как проверить, что какое-то расположение людей в очереди нам подходит?
Заведем переменную balance: balance += 1, если текущий человек с купюрой 500р., balance -= 1, если с купюрой 1000р. Таким образом, если на каждом шаге balance >= 0, то все смогут купить билеты.
Как посчитать количество?
 dp[pos][balance] = ДП от двух параметров: кол-во человек, баланс текущей последовательности.
База 
    dp[0][0] = 1
Переход 
    dp[pos][balance] = dp[pos - 1][balance - 1] if balance > 0
    dp[pos][balance] += dp[pos - 1][balance + 1] if (balance + (pos - balance) // 2 < n) 
Ответ 
   ans = sum(dp[n + m][i]), i = 0..n

P.S. можно изначально сделать кассу не пустой.
так как ответ может получиться очень большим, выведите его по модулю 10^9 + 7;